{"version":3,"sources":["app.min.js"],"names":["angular","module","config","$urlRouterProvider","$stateProvider","otherwise","state","url","templateUrl","controller","$rest","$cookies","$state","$window","$scope","_this","this","isLoggedIn","get","data","JSON","parse","IsValidToken","token","then","valid","role","go","err","sortType","sortReverse","ChangeSort","sortTypeNew","RefreshView","isProcessing","processingOne","processingTwo","GetAllUsers","users","filter","user","push","GetAllConferencesForAllUsers","dbData","allConferences","map","conference","areFormsFilled","registration","delegateInformation","travelArrangements","gaCrisis","isFormFilled","DeleteConference","conferenceGuid","guid","res","hasButtonMessage","buttonMessage","hasMessage","messageClass","blue","messageText","location","reload","red","ConfirmConference","UnconfirmConference","_this2","showLogout","Logout","promise","remove","_this3","GetUnconfirmedCount","dat","shouldAddNewButton","count","dataPromise","GetUser","dataOut","console","error","GetAllConferences","dataIn","hasConferences","length","conferences","$stateParams","$http","_","_this4","schoolGuid","GetAllotments","committee","conferenceData","countryAllotment","allotments","retVal","allotment","name","AddTeacherEscort","teacherEscorts","isMessage","messageHeader","yellow","UpdateView","RemoveEscort","index","splice","shouldShowNoTeacherEscortMessage","AddCountryAllotment","country","PostNotification","notification","postData","PostNewNotification","green","AddGADelegate","delegates","RemoveGADelegate","AddDelegate","RemoveDelegate","UpdateForm","processing","UpdateConference","statusCode","isReloading","GetConference","dataDb","fieldClasses","two fields","field","onward","arrivalDate","Date","departureDate","returnJourney","isConferenceConfirmed","isConfirmed","shouldShowNoDelegatesMessage","_this5","GetNotifications","notifications","isAllDone","MarkAsViewed","notificationId","elem","element","closest","addClass","alert","$restApi","_this6","Execute","resultPromise","ForgotPassword","dataForgot","dataError","message","_this7","Login","dataLogin","put","stringify","loggedIn","_this8","self","countries","code","populateStateList","GetStates","states","cancel","NewConference","dataObject","facultyAdvisor","firstName","lastName","address","street","city","pin","mobileNumber","mobile","landlineNumber","landline","email","CreateConference","isError","errorMessage","$crypto","_this9","NewUser","hash","getHmac","username","assign","metadata","CreateUser","generatedPassword","GetDelegatesAsCommittees","committees","getDelegates","items","slice","reverse","factory","getSha512","shaObj","jsSHA","update","getHash","key","setHMACKey","getHMAC","$q","checkLogin","defer","resolve","reject","getLoginData","$cryptoService","apiUrl","userObject","password","post","status","notificationData","GetUnconfirmedConferences","confUserObject","confObject","confirmationId","_this10","_this11","_this12","_this13","_this14"],"mappings":"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","file":"app.min.js","sourcesContent":["angular\n    .module( 'app', [\n        'ui.router',\n        'ngCookies',\n        'ngLodash'\n    ]);\n\nangular\n    .module( 'app' );\n\nangular.module( 'app' )\n       .config( [ '$urlRouterProvider', '$stateProvider', ( $urlRouterProvider, $stateProvider ) => {\n\n           $urlRouterProvider.otherwise( '/' );\n\n           $stateProvider\n               .state( 'home', {\n\n                   url: '/',\n                   templateUrl: 'app/templates/homepage.html',\n\n               })\n               .state( 'forgot', {\n\n                   url: '/forgot',\n                   templateUrl: 'app/templates/forgot-password.html',\n\n               })\n               .state( 'dashboard', {\n\n                   url: '/dashboard',\n                   templateUrl: 'app/templates/dashboard.html',\n\n               })\n               .state( 'newConference', {\n\n                   url: '/conferences/new',\n                   templateUrl: 'app/templates/new-conference.html',\n\n               })\n               .state( 'editConference', {\n\n                   url: '/conferences/:guid',\n                   templateUrl: 'app/templates/edit-conference.html',\n\n               })\n               .state( 'registrationForm', {\n\n                   url: '/conferences/:guid/registration',\n                   templateUrl: 'app/templates/forms/registration.html',\n\n               })\n               .state( 'delegateInformationForm', {\n\n                   url: '/conferences/:guid/delegates',\n                   templateUrl: 'app/templates/forms/delegate-information.html',\n\n               })\n               .state( 'travelArrangementsForm', {\n\n                   url: '/conferences/:guid/travel',\n                   templateUrl: 'app/templates/forms/travel-arrangements.html',\n\n               })\n               .state( 'gaCrisisForm', {\n\n                   url: '/conferences/:guid/ga',\n                   templateUrl: 'app/templates/forms/ga-crisis.html',\n\n               })\n               .state( 'dashboardAdmin', {\n\n                   url: '/dashboard/admin',\n                   templateUrl: 'app/templates/dashboard-admin.html',\n\n               })\n               .state( 'editConferenceAdmin', {\n\n                   url: '/dashboard/edit/conferences/:schoolGuid/:guid',\n                   templateUrl: 'app/templates/edit-conference-admin.html',\n\n               })\n               .state( 'addNewUser', {\n\n                   url: '/dashboard/users/new',\n                   templateUrl: 'app/templates/new-user.html',\n\n               })\n               .state( 'userWiseAllocation', {\n\n                   url: '/dashboard/users/allocations',\n                   templateUrl: 'app/templates/user-wise-allocation.html',\n\n               });\n\n       }]);\n\nangular.module( 'app' )\n        .controller( 'AdministratorDashboardController', [ 'RestApiService', '$cookies', '$state', '$window', '$scope', function( $rest, $cookies, $state, $window, $scope ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( valid.valid ) {\n\n                       if( data.role === 1 ) {\n\n                           $state.go( 'dashboardAdmin' );\n\n                       } else {\n\n                           $state.go( 'dashboard' );\n\n                       }\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            this.sortType = 'isConfirmed';\n            this.sortReverse = false;\n\n            this.ChangeSort = ( sortTypeNew ) => {\n\n               if( sortTypeNew === this.sortType ) {\n                   this.sortReverse = !this.sortReverse;\n               } else {\n                   this.sortType = sortTypeNew;\n               }\n\n            };\n\n            this.RefreshView = () => {\n\n                this.isProcessing = true;\n\n                let processingOne = true\n                  , processingTwo = true;\n\n                $rest.GetAllUsers( {\n\n                   token: data.token,\n\n                } ).then( ( data ) => {\n\n                    processingOne = false;\n                    this.isProcessing = ( processingOne || processingTwo );\n\n                   this.users = [];\n                   data.filter( ( user ) => {\n\n                       if( user.role !== 1 ) this.users.push( user );\n\n                   } );\n\n                } );\n\n                $rest.GetAllConferencesForAllUsers( data ).then( ( dbData ) => {\n\n                    processingTwo = false;\n                    this.isProcessing = ( processingOne || processingTwo );\n\n                   this.allConferences = [];\n\n                   dbData.map( ( conference ) => {\n\n                       conference.areFormsFilled = ( () => {\n\n                           return ( conference.registration && conference.delegateInformation && conference.travelArrangements && conference.gaCrisis && conference.registration.isFormFilled && conference.delegateInformation.isFormFilled && conference.travelArrangements.isFormFilled && conference.gaCrisis.isFormFilled )\n\n                       } )();\n\n                       this.allConferences.push( conference );\n\n                   } );\n\n                } );\n\n            };\n\n            this.DeleteConference  = ( conferenceGuid ) => {\n\n                this.isProcessing = true;\n\n                $rest.DeleteConference( {\n\n                    guid: data.guid,\n                    token: data.token,\n                    conferenceGuid,\n\n                } ).then( ( res ) => {\n\n                    this.isProcessing = false;\n\n                    this.hasButtonMessage = true;\n                    this.buttonMessage = \"Conference confirmed!\";\n                    this.hasMessage = true;\n                    this.messageClass = {\n                        blue: true\n                    };\n                    this.messageText = \"Conference confirmed!\";\n\n                    $window.location.reload();\n\n                } ).catch( ( err ) => {\n\n                    this.isProcessing = false;\n\n                    this.hasMessage = true;\n                    this.messageClass = {\n                        red: true\n                    };\n                    this.messageText = \"An error was encountered while executing that operation!\";\n\n                } );\n\n            };\n\n            this.ConfirmConference = ( guid ) => {\n\n               this.isProcessing = true;\n\n               $rest.ConfirmConference( {\n\n                   guid: data.guid,\n                   token: data.token,\n                   conferenceGuid: guid\n\n               } ).then( ( dbData ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasButtonMessage = true;\n                   this.buttonMessage = \"Conference confirmed!\";\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       blue: true\n                   };\n                   this.messageText = \"Conference confirmed!\";\n\n                   $window.location.reload();\n\n               } ).catch( ( err ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       red: true\n                   };\n                   this.messageText = \"An error was encountered while executing that operation!\";\n\n               } );\n\n            };\n\n            this.UnconfirmConference = ( guid ) => {\n\n               this.isProcessing = true;\n\n               $rest.UnconfirmConference( {\n\n                   guid: data.guid,\n                   token: data.token,\n                   conferenceGuid: guid\n\n               } ).then( ( dbData ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasButtonMessage = true;\n                   this.buttonMessage = \"Conference unconfirmed!\";\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       blue: true\n                   };\n                   this.messageText = \"Conference unconfirmed!\";\n\n                   $window.location.reload();\n\n\n               } ).catch( ( err ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       red: true\n                   };\n                   this.messageText = \"An error was encountered while executing that operation!\";\n\n               } );\n\n            };\n\n            this.RefreshView();\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'BasePageController', [ '$cookies', '$state', '$window', 'RestApiService', function( $cookies, $state, $window, $rest ) {\n\n            const data = $cookies.get( 'loginData' );\n\n            this.showLogout = $cookies.get( 'isLoggedIn' ) && data;\n            this.Logout = () => {\n\n                const promise = $rest.Logout( JSON.parse( data ) );\n                promise.then( ( data ) => {\n\n                    $cookies.remove( 'isLoggedIn' );\n                    $cookies.remove( 'loginData' );\n\n                    this.showLogout = false;\n                    $state.go( 'home' );\n\n                } ).catch( ( err ) => {\n\n                    $cookies.remove( 'isLoggedIn' );\n                    $cookies.remove( 'loginData' );\n\n                    this.showLogout = false;\n                    $state.go( 'home' );\n\n                } );\n\n            };\n\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'DashboardController', [ 'RestApiService', '$cookies', '$state', function( $rest, $cookies, $state ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            $rest.GetUnconfirmedCount( data ).then( ( dat ) => {\n\n               this.shouldAddNewButton = dat.data.count === 0;\n\n            } );\n\n            let dataPromise = $rest.GetUser( data );\n            dataPromise.then( ( dataOut ) => {\n\n               this.data = dataOut;\n\n\n            } ).catch( ( data ) => {\n\n               console.error( 'The application failed to load with the provided parameters; trying to reload internal state.' );\n\n            } );\n\n            dataPromise = $rest.GetAllConferences( data );\n            dataPromise.then( ( dataIn ) => {\n\n               this.hasConferences = ( dataIn.length !== 0 );\n               this.conferences = {\n                   count: dataIn.length,\n                   data: dataIn\n               };\n\n            } ).catch( ( data ) => {\n\n               console.error( 'The application failed to load with the provided parameters; trying to reload internal state.' );\n               $state.go( 'home' );\n\n            } );\n\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'EditConferenceAdminController', [ '$stateParams', '$cookies', '$http', '$state', '$window', 'RestApiService', 'lodash', function( $stateParams, $cookies, $http, $state, $window, $rest, _ ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data      = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const conferenceGuid = $stateParams.guid;\n\n            this.guid = conferenceGuid;\n            this.schoolGuid = $stateParams.schoolGuid;\n\n            this.ConfirmConference = ( guid ) => {\n\n               this.isProcessing = true;\n\n               $rest.ConfirmConference( {\n\n                   guid: data.guid,\n                   token: data.token,\n                   conferenceGuid: guid\n\n               } ).then( ( dbData ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       blue: true\n                   };\n                   this.messageText = \"Conference confirmed!\";\n\n               } ).catch( ( err ) => {\n\n                   this.isProcessing = false;\n\n                   this.hasMessage = true;\n                   this.messageClass = {\n                       red: true\n                   };\n                   this.messageText = \"An error was encountered while executing that operation!\";\n\n               } );\n\n            };\n\n            this.GetAllotments = ( committee ) => {\n\n                if( !this.conferenceData.countryAllotment || !this.conferenceData.countryAllotment.allotments ) {\n                    return [];\n                }\n\n                let retVal = [];\n\n                this.conferenceData.countryAllotment.allotments.map( ( allotment ) => {\n\n                    if( committee === allotment.name ) {\n\n                        retVal.push( allotment );\n\n                    }\n\n                } );\n\n                return retVal;\n\n            };\n\n            this.AddTeacherEscort = () => {\n\n                if( this.conferenceData.registration && this.conferenceData.registration.teacherEscorts && this.conferenceData.registration.teacherEscorts.length >= 2 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not add any more teacher escorts. The maximum number of teacher escorts per delegation is 2.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.registration.teacherEscorts = this.conferenceData.registration.teacherEscorts || [];\n\n                this.conferenceData.registration.teacherEscorts.push( {\n\n                    name: 'Escort Name',\n\n                } );\n\n                this.UpdateView();\n\n            };\n\n            this.RemoveEscort = ( index ) => {\n\n                if( this.conferenceData.registration && this.conferenceData.registration.teacherEscorts && this.conferenceData.registration.teacherEscorts.length <= 0 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not remove any more delegates.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.registration.teacherEscorts = this.conferenceData.registration.teacherEscorts || [];\n\n                this.conferenceData.registration.teacherEscorts.splice( index, 1 );\n                this.UpdateView();\n\n            };\n\n            this.UpdateView = () => {\n\n                this.shouldShowNoTeacherEscortMessage = ( () => {\n\n                    if( this.conferenceData.registration ) {\n\n                        if( this.conferenceData.registration.teacherEscorts ) {\n\n                            return ( this.conferenceData.registration.teacherEscorts.length === 0 );\n\n                        } else { return false; }\n\n                    } else { return false; }\n\n                } )();\n\n            };\n\n            this.AddCountryAllotment = () => {\n\n               this.conferenceData.countryAllotment = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.countryAllotment ) ? ( ( this.conferenceData.countryAllotment.allotments ) ? this.conferenceData.countryAllotment : { allotments: [] } ) : { allotments: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.countryAllotment.allotments.push( {\n\n                   name: '',\n                   country: ''\n\n               } );\n\n            };\n\n            this.PostNotification = () => {\n\n                this.isProcessing = true;\n                this.notification.guid = $stateParams.schoolGuid;\n\n                const postData =  {\n\n                    guid: data.guid,\n                    token: data.token,\n                    data: this.notification\n\n                };\n\n                $rest.PostNewNotification( postData ).then( ( data ) => {\n\n                    this.isProcessing = false;\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Success!\";\n                    this.messageText = \"A notification was successfully sent to the respective school.\";\n                    this.messageClass = {\n\n                        'green': true,\n\n                    };\n\n                    this.notification = {};\n\n                } ).catch( ( err ) => {\n\n                    this.isProcessing = false;\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Error!\";\n                    this.messageText = \"There was an error in sending the notification.\";\n                    this.messageClass = {\n\n                        'red': true,\n\n                    };\n\n                } );\n\n            };\n\n            this.AddGADelegate = () => {\n\n               if( this.conferenceData.gaCrisis && this.conferenceData.gaCrisis.delegates && this.conferenceData.gaCrisis.delegates.length >= 7 ) {\n\n                   this.isMessage = true;\n                   this.messageHeader = \"Warning!\";\n                   this.messageText = \"You can not add any more delegates. The maximum number of delegates per delegation is 7.\";\n                   this.messageClass = {\n\n                       'yellow': true,\n\n                   };\n\n                   return false;\n\n               }\n\n               this.conferenceData.gaCrisis = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.gaCrisis ) ? ( ( this.conferenceData.gaCrisis.delegates ) ? this.conferenceData.gaCrisis : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.gaCrisis.delegates.push( {\n\n                   name: 'Delegate Name'\n\n               } );\n\n               this.UpdateView();\n\n            };\n\n            this.RemoveGADelegate = ( index ) => {\n\n                if( this.conferenceData.gaCrisis && this.conferenceData.gaCrisis.delegates && this.conferenceData.gaCrisis.delegates.length <= 0 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not remove any more delegates.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.gaCrisis = ( () => {\n\n                    return (\n\n                        ( this.conferenceData.gaCrisis ) ? ( ( this.conferenceData.gaCrisis.delegates ) ? this.conferenceData.gaCrisis : { delegates: [] } ) : { delegates: [] }\n\n                    )\n\n                } )();\n\n                this.conferenceData.gaCrisis.delegates.splice( index, 1 );\n                this.UpdateView();\n\n            };\n\n            this.AddDelegate = () => {\n\n               this.conferenceData.delegateInformation = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.delegateInformation ) ? ( ( this.conferenceData.delegateInformation.delegates ) ? this.conferenceData.delegateInformation : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.delegateInformation.delegates.push( {\n\n                   name: 'Delegate Name'\n\n               } );\n\n               this.UpdateView();\n\n            };\n\n            this.RemoveDelegate = ( index ) => {\n\n                if( this.conferenceData.delegateInformation && this.conferenceData.delegateInformation.delegates && this.conferenceData.delegateInformation.delegates.length <= 0 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not remove any more delegates.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.delegateInformation = ( () => {\n\n                    return (\n\n                        ( this.conferenceData.delegateInformation ) ? ( ( this.conferenceData.delegateInformation.delegates ) ? this.conferenceData.delegateInformation : { delegates: [] } ) : { delegates: [] }\n\n                    )\n\n                } )();\n\n                this.conferenceData.delegateInformation.delegates.splice( index, 1 );\n                this.UpdateView();\n\n            };\n\n            this.UpdateForm = () => {\n\n               this.processing = true;\n\n            //    this.conferenceData.travelArrangements.onward.departureDate = new Date( Date.UTC( this.conferenceData.travelArrangements.onward.departureDate.getYear(), this.conferenceData.travelArrangements.onward.departureDate.getMonth(), this.conferenceData.travelArrangements.onward.departureDate.getDate() ) );\n            //    this.conferenceData.travelArrangements.onward.arrivalDate = new Date( Date.UTC( this.conferenceData.travelArrangements.onward.arrivalDate.getYear(), this.conferenceData.travelArrangements.onward.arrivalDate.getMonth(), this.conferenceData.travelArrangements.onward.arrivalDate.getDate() ) );\n            //    this.conferenceData.travelArrangements.returnJourney.departureDate = new Date( Date.UTC( this.conferenceData.travelArrangements.returnJourney.departureDate.getYear(), this.conferenceData.travelArrangements.returnJourney.departureDate.getMonth(), this.conferenceData.travelArrangements.returnJourney.departureDate.getDate() ) );\n            //    this.conferenceData.travelArrangements.returnJourney.arrivalDate = new Date( Date.UTC( this.conferenceData.travelArrangements.returnJourney.arrivalDate.getYear(), this.conferenceData.travelArrangements.returnJourney.arrivalDate.getMonth(), this.conferenceData.travelArrangements.returnJourney.arrivalDate.getDate() ) );\n               //\n            //    console.log( this.conferenceData.travelArrangements.returnJourney );\n            //    console.log( this.conferenceData.travelArrangements.onward );\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: this.guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n            };\n\n            this.RefreshView = () => {\n\n                this.isReloading = true;\n\n                $rest.GetConference( {\n\n                   conferenceGuid,\n                   token: data.token,\n                   guid: data.guid,\n\n                } ).then( ( dataDb ) => {\n\n                   this.conferenceData = dataDb;\n                   this.isReloading = false;\n\n                   this.fieldClasses = {\n\n                       'two fields': ( this.conferenceData.countryAllotment ),\n                       'field': ( !this.conferenceData.countryAllotment )\n\n                   };\n\n                   if( this.conferenceData.travelArrangements ) {\n\n                       if( this.conferenceData.travelArrangements.onward ) {\n\n                           if( this.conferenceData.travelArrangements.onward.arrivalDate ) {\n                               this.conferenceData.travelArrangements.onward.arrivalDate = new Date( this.conferenceData.travelArrangements.onward.arrivalDate );\n                           }\n\n                           if( this.conferenceData.travelArrangements.onward.departureDate ) {\n                               this.conferenceData.travelArrangements.onward.departureDate = new Date( this.conferenceData.travelArrangements.onward.departureDate );\n                           }\n\n                       }\n\n                       if( this.conferenceData.travelArrangements.returnJourney ) {\n\n                           if( this.conferenceData.travelArrangements.returnJourney.arrivalDate ) {\n                               this.conferenceData.travelArrangements.returnJourney.arrivalDate = new Date( this.conferenceData.travelArrangements.returnJourney.arrivalDate );\n                           }\n\n                           if( this.conferenceData.travelArrangements.returnJourney.departureDate ) {\n                               this.conferenceData.travelArrangements.returnJourney.departureDate = new Date( this.conferenceData.travelArrangements.returnJourney.departureDate );\n                           }\n\n                       }\n\n                   }\n\n                   this.isConferenceConfirmed = this.conferenceData.isConfirmed;\n                   this.areFormsFilled = ( () => {\n\n                       return ( this.conferenceData.registration && this.conferenceData.delegateInformation && this.conferenceData.travelArrangements && this.conferenceData.gaCrisis && this.conferenceData.registration.isFormFilled && this.conferenceData.delegateInformation.isFormFilled && this.conferenceData.travelArrangements.isFormFilled && this.conferenceData.gaCrisis.isFormFilled )\n\n                   } )();\n\n                } );\n\n            };\n\n            this.UpdateView = () => {\n\n                this.shouldShowNoDelegatesMessage = ( () => {\n\n                    if( this.conferenceData.delegateInformation ) {\n\n                        if( this.conferenceData.delegateInformation.delegates ) {\n\n                            return ( this.conferenceData.delegateInformation.delegates.length === 0 );\n\n                        } else { return false; }\n\n                    } else { return false; }\n\n                } )();\n\n            };\n\n            this.RefreshView();\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'EditConferenceController', [ '$stateParams', '$cookies', '$http', '$state', '$window', 'RestApiService', function( $stateParams, $cookies, $http, $state, $window, $rest ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const conferenceGuid = $stateParams.guid;\n            this.guid = conferenceGuid;\n\n            $rest.GetNotifications( {\n\n                guid: data.guid,\n                token: data.token\n\n            } ).then( data => {\n\n                this.notifications = data;\n\n            } );\n\n            $rest.GetConference( {\n\n               conferenceGuid,\n               token: data.token,\n               guid: data.guid,\n\n            } ).then( ( data ) => {\n\n               this.conferenceData = data;\n\n               this.isAllDone = ( () => {\n\n                   return ( this.conferenceData.registration && this.conferenceData.delegateInformation && this.conferenceData.travelArrangements && this.conferenceData.gaCrisis && this.conferenceData.registration.isFormFilled && this.conferenceData.delegateInformation.isFormFilled && this.conferenceData.travelArrangements.isFormFilled && this.conferenceData.gaCrisis.isFormFilled )\n\n               } )();\n\n            } );\n\n            this.MarkAsViewed = ( notificationId ) => {\n\n                $rest.MarkAsViewed( {\n\n                    notificationId,\n                    guid: data.guid,\n                    token: data.token\n\n                } ).then( ( data ) => {\n\n                    const elem = angular.element( `#${ notificationId }` ).closest( '.message' );\n                    elem.addClass( 'successfully-saved' ).addClass( 'hide-opacity' );\n\n                } ).catch( ( err ) => {\n\n                    alert( 'An error was encountered. Please try again later.' );\n\n                } );\n\n            };\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'ForgotPasswordController', [ 'RestApiService', '$state', '$cookies', '$window', function( $restApi, $state, $cookies, $window ) {\n\n            this.Execute = () => {\n\n               this.processing = true;\n\n               const resultPromise = $restApi.ForgotPassword( this.user );\n\n               resultPromise.then( ( dataForgot ) => {\n\n                   this.processing = false;\n\n                   this.hasMessage = true;\n                   this.messageText = \"An email outling the steps to reset your password has been sent. Check your email!\";\n                   this.messageClass = {\n\n                       blue: true\n\n                   };\n\n               } ).catch( ( dataError ) => {\n\n                   this.processing = false;\n\n                   if( dataError.error ) {\n\n                       this.hasMessage = true;\n                       this.messageText = dataError.message;\n                       this.messageClass = {\n                           red: true\n                       }\n\n                   }\n\n               } );\n\n            }\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'HomePageController', [ 'RestApiService', '$state', '$cookies', '$window', function( $rest, $state, $cookies, $window ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            this.Login = () => {\n\n                this.isProcessing = true;\n\n                const resultPromise = $rest.Login( this.user );\n\n                resultPromise.then( ( dataLogin ) => {\n\n                    this.hasButtonMessage = true;\n                    this.buttonMessage = \"Redirecting to dashboard...\";\n\n                    $cookies.put( 'loginData', JSON.stringify( dataLogin ) );\n                    $cookies.put( 'isLoggedIn', true );\n\n                    if( dataLogin.role === 1 ) {\n\n                        $state.go( 'dashboardAdmin' );\n\n                    } else {\n\n                        $state.go( 'dashboard' );\n\n                    }\n\n                } ).catch( ( dataError ) => {\n\n                    this.isProcessing = false;\n\n                    if( dataError.loggedIn === false ) {\n\n                        this.hasMessage = true;\n                        this.messageText = dataError.message;\n                        this.messageClass = {\n                            red: true\n                        }\n\n                    }\n\n                } );\n\n            }\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'NewConferenceController', [ '$cookies', '$http', '$state', '$window', 'RestApiService', function( $cookies, $http, $state, $window, $rest ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const self = this;\n\n            this.countries = [\n\n               {\n\n                   code: 'IN',\n                   name: 'India'\n\n               },\n\n               {\n\n                   code: 'US',\n                   name: 'America'\n\n               }\n\n            ];\n\n            this.populateStateList = ( country ) => {\n\n               $rest.GetStates( country ).then( ( data ) => {\n\n                   this.states = data;\n\n               } );\n\n            };\n\n            this.cancel = () => {\n\n               $state.go( 'dashboard' );\n\n            };\n\n            this.NewConference = () => {\n\n               this.processing = true;\n\n               const dataObject = {\n\n                   token: data.token,\n                   guid: data.guid,\n                   registration: {\n\n                       name: self.conference.registration.facultyAdvisor.firstName + ' ' + self.conference.registration.facultyAdvisor.lastName,\n                       address: {\n\n                           street: self.conference.registration.address.street,\n                           city: self.conference.registration.address.city,\n                           pin: self.conference.registration.address.pin,\n                           state: self.conference.registration.address.state,\n                           country: self.conference.registration.address.country,\n\n                       },\n\n                       facultyAdvisor: {\n\n                           name: self.conference.registration.facultyAdvisor.firstName + ' ' + self.conference.registration.facultyAdvisor.lastName,\n                           mobileNumber: self.conference.registration.facultyAdvisor.mobile,\n                           landlineNumber: self.conference.registration.facultyAdvisor.landline,\n                           email: self.conference.registration.facultyAdvisor.email\n\n                       }\n\n                   }\n\n               };\n\n               $rest.CreateConference( dataObject ).then( ( data ) => {\n\n                    if( data.data.statusCode === 200 ) {\n\n                        this.processing = false;\n                        $state.go( 'dashboard' );\n\n                    } else {\n\n                        this.isError = true;\n                        this.errorMessage = data.data.data.message;\n\n                    }\n\n               } ).catch( ( data ) => {\n\n                  this.isError = true;\n                  this.errorMessage = data.message;\n\n               } );\n\n            };\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'NewUserController', [ '$cookies', '$http', '$state', '$window', 'RestApiService', 'CryptoService', 'lodash', function( $cookies, $http, $state, $window, $rest, $crypto, _ ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data      = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const self = this;\n\n            this.NewUser = () => {\n\n               this.processing = true;\n\n               const hash = $crypto.getHmac( ( this.user.username + this.user.email ), data.guid );\n\n               const dataObject = {\n\n                   token: data.token,\n                   guid: data.guid,\n                   hash,\n                   data: _.assign( this.user, this.metadata )\n\n               };\n\n               $rest.CreateUser( dataObject ).then( ( data ) => {\n\n                    if( data.data.statusCode === 200 ) {\n\n                        this.processing = false;\n                        this.isMessage = true;\n                        this.messageClass = {\n                            blue: true\n                        };\n                        this.messageHeader = \"User Added\";\n                        this.messageText = `The user ${ this.user.username } was successfully created.`;\n\n                        if( data.data.data && data.data.data.generatedPassword ) {\n\n                            this.messageText += ` The generated password is ${ data.data.data.generatedPassword }.`;\n\n                        }\n\n                    } else {\n\n                        this.processing = false;\n                        this.isMessage = true;\n                        this.messageClass = {\n                            red: true\n                        };\n                        this.messageHeader = \"An error was encountered\";\n                        this.messageText = data.message;\n\n                    }\n\n               } ).catch( ( data ) => {\n\n                   this.processing = false;\n                   this.isMessage = true;\n                   this.messageClass = {\n                       red: true\n                   };\n                   this.messageHeader = \"An error was encountered\";\n                   this.messageText = data.message;\n\n               } );\n\n            };\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'ViewUserWiseController', [ '$cookies', '$http', '$state', '$window', 'RestApiService', 'CryptoService', 'lodash', function( $cookies, $http, $state, $window, $rest, $crypto, _ ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data      = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const self = this;\n\n            $rest.GetDelegatesAsCommittees( data ).then( ( data ) => {\n\n                self.committees = data.committees;\n\n            } );\n\n            self.getDelegates = ( committee ) => {\n\n                return committee.delegates;\n\n            };\n\n       } ] );\n\nangular\n    .module( 'app' )\n    .filter( 'reverse', () => {\n\n        return ( items ) => {\n\n            return items.slice().reverse();\n\n        };\n\n    } );\n\nangular\n    .module( 'app' )\n    .factory( 'CryptoService', [ function() {\n\n        return {\n\n            getSha512: function( data ) {\n\n                var shaObj = new jsSHA( \"SHA-512\", \"TEXT\" );\n                shaObj.update( data );\n                return shaObj.getHash( \"HEX\" );\n\n            },\n\n            getHmac: function( data, key ) {\n\n                var shaObj = new jsSHA('SHA-512', \"TEXT\");\n                shaObj.setHMACKey( key, \"TEXT\");\n                shaObj.update( data );\n                return shaObj.getHMAC(\"HEX\");\n\n            }\n\n        };\n\n    } ] );\n\nangular\n    .module( 'app' )\n    .factory( 'LoginService', [ '$cookies', 'RestApiService', '$state', '$q', function( $cookies, $rest, $state, $q ) {\n\n        return {\n\n            checkLogin() {\n\n                let isLoggedIn = $cookies.get( 'isLoggedIn' )\n                    , data     = ( $cookies.get( 'loginData' ) )\n                    , promise  = $q.defer();\n\n                if( isLoggedIn && data ) {\n\n                    data = JSON.parse( data );\n\n                    $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                        if( valid.valid ) {\n\n                            promise.resolve( {\n                                valid: true,\n                                data,\n                            } );\n\n                        }\n\n                    } ).catch( ( err ) => {\n\n                        promise.reject( {\n                            valid: true,\n                        } );\n\n                    } );\n\n                }\n\n                return promise.promise;\n\n            },\n\n            getLoginData() {\n\n                const data = JSON.parse( $cookies.get( 'loginData' ) );\n                return ( data );\n\n            }\n\n        };\n\n    } ] );\n\nangular\n    .module( 'app' )\n    .factory( 'RestApiService', [ '$http', 'CryptoService', '$q', ( $http, $cryptoService, $q ) => {\n\n        const apiUrl = 'http://api.app.dsmun.com';\n\n        return {\n\n            IsValidToken( token ) {\n\n                const promise = $q.defer();\n\n                $http.get( `${ apiUrl }/auth/token/valid/${ token }` ).then( ( data ) => {\n\n                    promise.resolve( data.data.data );\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        valid: false,\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            Login( userObject ) {\n\n                const dataObject = {}\n                    , promise    = $q.defer();\n\n                dataObject.username = userObject.username;\n                dataObject.password = $cryptoService.getSha512( userObject.password );\n\n                $http.post( apiUrl + '/auth', dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data.token ) {\n\n                        promise.resolve( {\n\n                            token: data.data.data.token,\n                            guid : data.data.data.guid,\n                            role : data.data.data.role\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            loggedIn: false\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        loggedIn: false\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            ForgotPassword( userObject ) {\n\n                const dataObject = {}\n                    , promise    = $q.defer();\n\n                dataObject.username = userObject.username;\n\n                $http.post( apiUrl + '/reset', dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve();\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            PostNewNotification( notificationData ) {\n\n                const promise    = $q.defer();\n\n                $http.post( apiUrl + '/notifications', {\n\n                    token: notificationData.token,\n                    data: notificationData.data,\n                    guid: notificationData.guid,\n\n                } ).then( ( data ) => {\n\n                    if( data.status === 200 || data.status === 201 ) {\n\n                        promise.resolve();\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetUser( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/users/${ data.guid }?token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data[ 0 ] );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetAllConferences( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences?guid=${ data.guid }&token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetDelegatesAsCommittees( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences/as/delegates?guid=${ data.guid }&token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetNotifications( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/notifications/${ data.guid }?token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            MarkAsViewed( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/notifications/${ data.guid }/${ data.notificationId }/viewed?token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 || data.status === 201 ) {\n\n                        promise.resolve();\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetAllUsers( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/users?token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetAllConferencesForAllUsers( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences/all?guid=${ data.guid }&token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetUnconfirmedCount( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences/unconfirmed/count?guid=${ data.guid }&token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( {\n                            data: data.data.data\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetUnconfirmedConferences( data ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences/unconfirmed/all?guid=${ data.guid }&token=${ data.token }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( {\n                            data: data.data.data\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetConference( dataIn ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/conferences/${ dataIn.conferenceGuid }?token=${ dataIn.token }&guid=${ dataIn.guid }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data[ 0 ] );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            Logout( dataIn ) {\n\n                const promise = $q.defer();\n\n                $http.post( apiUrl + '/deauth', {\n\n                    guid: dataIn.guid,\n                    token: dataIn.token,\n\n                } ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve( {\n\n                            statusCode: 200\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            GetStates( country ) {\n\n                const promise    = $q.defer();\n\n                $http.get( `${ apiUrl }/metadata/states/${ country }` ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data ) {\n\n                        promise.resolve( data.data.data );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            CreateConference( confUserObject ) {\n\n                const promise = $q.defer();\n\n                const dataObject = {\n\n                    token: confUserObject.token,\n                    guid: confUserObject.guid,\n                    data: {\n\n                        registration: confUserObject.registration,\n\n                    }\n\n                };\n\n                $http.post( apiUrl + '/conferences', dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve( {\n\n                            data: data.data,\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            DeleteConference( confObject ) {\n\n                const promise = $q.defer();\n\n                $http.delete( `${ apiUrl }/conferences/${ confObject.conferenceGuid }?token=${ confObject.token }&guid=${ confObject.guid }` ).then( ( data ) => {\n\n                    if( data.status === 200 || data.status === 201 ) {\n\n                        promise.resolve();\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            CreateUser( confUserObject ) {\n\n                const promise = $q.defer();\n\n                const dataObject = {\n\n                    token: confUserObject.token,\n                    data: confUserObject.data,\n                    hash: confUserObject.hash\n\n                };\n\n                $http.post( apiUrl + '/users', dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve( {\n\n                            data: data.data,\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            UpdateConference( confUserObject ) {\n\n                const promise = $q.defer();\n\n                const dataObject = {\n\n                    token: confUserObject.token,\n                    guid: confUserObject.guid,\n                    data: confUserObject.data\n\n                };\n\n                $http.put( apiUrl + '/conferences/' + confUserObject.conferenceGuid, dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve( {\n\n                            data: data.data,\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            ConfirmConference( confUserObject ) {\n\n                const promise = $q.defer();\n\n                const dataObject = {\n\n                    token: confUserObject.token,\n                    guid: confUserObject.guid,\n\n                };\n\n                $http.post( apiUrl + '/conferences/confirm/' + confUserObject.conferenceGuid, dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 && data.data.data.confirmationId ) {\n\n                        promise.resolve( {\n\n                            data: data.data,\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n            UnconfirmConference( confUserObject ) {\n\n                const promise = $q.defer();\n\n                const dataObject = {\n\n                    token: confUserObject.token,\n                    guid: confUserObject.guid,\n                    data: {\n                        isConfirmed: false,\n                        confirmationId: '',\n                    }\n\n                };\n\n                $http.put( apiUrl + '/conferences/' + confUserObject.conferenceGuid, dataObject ).then( ( data ) => {\n\n                    if( data.status === 200 ) {\n\n                        promise.resolve( {\n\n                            data: data.data,\n\n                        } );\n\n                    } else {\n\n                        promise.reject( {\n\n                            message: data.data.message,\n                            error: true\n\n                        } );\n\n                    }\n\n                } ).catch( ( data ) => {\n\n                    promise.reject( {\n\n                        message: data.data.message,\n                        error: true\n\n                    } );\n\n                } );\n\n                return promise.promise;\n\n            },\n\n        };\n\n    } ] );\n\nangular.module( 'app' )\n       .controller( 'DelegateInformationFormController', [ '$cookies', '$http', '$stateParams', '$window', 'RestApiService', function( $cookies, $http, $stateParams, $window, $rest ) {\n\n           let isLoggedIn       = $cookies.get( 'isLoggedIn' )\n               , data           = $cookies.get( 'loginData' )\n               , conferenceGuid = $stateParams.guid;\n\n           if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n           }\n\n           this.guid = conferenceGuid;\n\n           $rest.GetConference( {\n\n               conferenceGuid,\n               token: data.token,\n               guid: data.guid,\n\n           } ).then( ( data ) => {\n\n               this.conferenceData = data;\n\n               this.UpdateView();\n\n               this.fieldClasses = {\n\n                   'two fields': ( this.conferenceData.countryAllotment ),\n                   'field': ( !this.conferenceData.countryAllotment )\n\n               };\n\n           } );\n\n           this.GetAllotments = ( committee ) => {\n\n               if( !this.conferenceData.countryAllotment || !this.conferenceData.countryAllotment.allotments ) {\n                   return [];\n               }\n\n               let retVal = [];\n\n               this.conferenceData.countryAllotment.allotments.map( ( allotment ) => {\n\n                   if( committee === allotment.name ) {\n\n                       retVal.push( allotment );\n\n                   }\n\n               } );\n\n               return retVal;\n\n           };\n\n           this.AddDelegate = () => {\n\n               if( this.conferenceData.delegateInformation && this.conferenceData.delegateInformation.delegates && this.conferenceData.delegateInformation.delegates.length >= 17 ) {\n\n                   this.isMessage = true;\n                   this.messageHeader = \"Warning!\";\n                   this.messageText = \"You can not add any more delegates. The maximum number of delegates per delegation is 17.\";\n                   this.messageClass = {\n\n                       'yellow': true,\n\n                   };\n\n                   return false;\n\n               }\n\n               this.conferenceData.delegateInformation = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.delegateInformation ) ? ( ( this.conferenceData.delegateInformation.delegates ) ? this.conferenceData.delegateInformation : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.delegateInformation.delegates.push( {\n\n                   name: 'Delegate Name'\n\n               } );\n\n               this.UpdateView();\n\n           };\n\n           this.RemoveDelegate = ( index ) => {\n\n               if( this.conferenceData.delegateInformation && this.conferenceData.delegateInformation.delegates && this.conferenceData.delegateInformation.delegates.length <= 0 ) {\n\n                   this.isMessage = true;\n                   this.messageHeader = \"Warning!\";\n                   this.messageText = \"You can not remove any more delegates.\";\n                   this.messageClass = {\n\n                       'yellow': true,\n\n                   };\n\n                   return false;\n\n               }\n\n               this.conferenceData.delegateInformation = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.delegateInformation ) ? ( ( this.conferenceData.delegateInformation.delegates ) ? this.conferenceData.delegateInformation : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.delegateInformation.delegates.splice( index, 1 );\n               this.UpdateView();\n\n           };\n\n           this.UpdateView = () => {\n\n               this.shouldShowNoDelegatesMessage = ( () => {\n\n                   if( this.conferenceData.delegateInformation ) {\n\n                       if( this.conferenceData.delegateInformation.delegates ) {\n\n                           return ( this.conferenceData.delegateInformation.delegates.length === 0 );\n\n                       } else { return false; }\n\n                   } else { return false; }\n\n               } )();\n\n           };\n\n           this.UpdateForm = () => {\n\n               this.processing = true;\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: this.guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n           };\n\n       } ] );\n\nangular.module( 'app' )\n       .controller( 'GaCrisisFormController', [ 'lodash', '$cookies', '$http', '$stateParams', '$window', 'RestApiService', function( _, $cookies, $http, $stateParams, $window, $rest ) {\n\n           let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n           if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n           }\n\n           const conferenceGuid = $stateParams.guid;\n           this.guid = conferenceGuid;\n\n           $rest.GetConference( {\n\n               conferenceGuid,\n               token: data.token,\n               guid: data.guid,\n\n           } ).then( ( data ) => {\n\n               this.conferenceData = data;\n               this.UpdateView();\n\n           } );\n\n           this.RemoveDelegate = ( index ) => {\n\n               if( this.conferenceData.gaCrisis && this.conferenceData.gaCrisis.delegates && this.conferenceData.gaCrisis.delegates.length <= 0 ) {\n\n                   this.isMessage = true;\n                   this.messageHeader = \"Warning!\";\n                   this.messageText = \"You can not remove any more delegates.\";\n                   this.messageClass = {\n\n                       'yellow': true,\n\n                   };\n\n                   return false;\n\n               }\n\n               this.conferenceData.gaCrisis = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.gaCrisis ) ? ( ( this.conferenceData.gaCrisis.delegates ) ? this.conferenceData.gaCrisis : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.gaCrisis.delegates.splice( index, 1 );\n               this.UpdateView();\n\n           };\n\n           this.UpdateView = () => {\n\n               this.shouldShowNoDelegatesMessage = ( () => {\n\n                   if( this.conferenceData.gaCrisis ) {\n\n                       if( this.conferenceData.gaCrisis.delegates ) {\n\n                           return ( this.conferenceData.gaCrisis.delegates.length === 0 );\n\n                       } else { return false; }\n\n                   } else { return false; }\n\n               } )();\n\n           };\n\n           this.AddDelegate = () => {\n\n               if( this.conferenceData.gaCrisis && this.conferenceData.gaCrisis.delegates && this.conferenceData.gaCrisis.delegates.length >= 7 ) {\n\n                   this.isMessage = true;\n                   this.messageHeader = \"Warning!\";\n                   this.messageText = \"You can not add any more delegates. The maximum number of delegates per delegation is 7.\";\n                   this.messageClass = {\n\n                       'yellow': true,\n\n                   };\n\n                   return false;\n\n               }\n\n               this.conferenceData.gaCrisis = ( () => {\n\n                   return (\n\n                       ( this.conferenceData.gaCrisis ) ? ( ( this.conferenceData.gaCrisis.delegates ) ? this.conferenceData.gaCrisis : { delegates: [] } ) : { delegates: [] }\n\n                   )\n\n               } )();\n\n               this.conferenceData.gaCrisis.delegates.push( {\n\n                   name: 'Delegate Name'\n\n               } );\n\n               this.UpdateView();\n\n           };\n\n           this.UpdateForm = () => {\n\n               this.processing = true;\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: this.guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n           };\n\n       } ] );\n\nangular.module( 'app' )\n       .controller( 'MedicalHistoryFormController', [ 'lodash', '$cookies', '$http', '$stateParams', '$window', 'RestApiService', function( _, $cookies, $http, $stateParams, $window, $rest ) {\n\n           let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n           if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n           }\n\n           const conferenceGuid = $stateParams.guid;\n           this.guid = conferenceGuid;\n\n           $rest.GetConference( {\n\n               conferenceGuid,\n               token: data.token,\n               guid: data.guid,\n\n           } ).then( ( data ) => {\n\n               this.conferenceData = data;\n\n           } );\n\n           this.UpdateForm = () => {\n\n               this.processing = true;\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: this.guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n           };\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'RegistrationFormController', [ '$cookies', '$http', '$stateParams', '$window', 'RestApiService', function( $cookies, $http, $stateParams, $window, $rest ) {\n\n            const guid = $stateParams.guid;\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            this.guid = $stateParams.guid;\n\n            $rest.GetConference( {\n\n               token: data.token,\n               guid: data.guid,\n               conferenceGuid: guid\n\n            } ).then( ( data ) => {\n\n               this.conferenceData = data;\n               this.UpdateView();\n\n            } );\n\n            this.AddTeacherEscort = () => {\n\n                if( this.conferenceData.registration && this.conferenceData.registration.teacherEscorts && this.conferenceData.registration.teacherEscorts.length >= 2 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not add any more teacher escorts. The maximum number of teacher escorts per delegation is 2.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.registration.teacherEscorts = this.conferenceData.registration.teacherEscorts || [];\n\n                this.conferenceData.registration.teacherEscorts.push( {\n\n                    name: 'Escort Name',\n\n                } );\n\n                this.UpdateView();\n\n            };\n\n            this.RemoveEscort = ( index ) => {\n\n                if( this.conferenceData.registration && this.conferenceData.registration.teacherEscorts && this.conferenceData.registration.teacherEscorts.length <= 0 ) {\n\n                    this.isMessage = true;\n                    this.messageHeader = \"Warning!\";\n                    this.messageText = \"You can not remove any more delegates.\";\n                    this.messageClass = {\n\n                        'yellow': true,\n\n                    };\n\n                    return false;\n\n                }\n\n                this.conferenceData.registration.teacherEscorts = this.conferenceData.registration.teacherEscorts || [];\n\n                this.conferenceData.registration.teacherEscorts.splice( index, 1 );\n                this.UpdateView();\n\n            };\n\n            this.UpdateView = () => {\n\n                this.shouldShowNoTeacherEscortMessage = ( () => {\n\n                    if( this.conferenceData.registration ) {\n\n                        if( this.conferenceData.registration.teacherEscorts ) {\n\n                            return ( this.conferenceData.registration.teacherEscorts.length === 0 );\n\n                        } else { return false; }\n\n                    } else { return false; }\n\n                } )();\n\n            };\n\n            this.UpdateForm = () => {\n\n               this.processing = true;\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n            };\n\n       } ] );\n\nangular.module( 'app' )\n        .controller( 'TravelArrangementsFormController', [ '$cookies', '$http', '$stateParams', '$window', 'RestApiService', function( $cookies, $http, $stateParams, $window, $rest ) {\n\n            let isLoggedIn = $cookies.get( 'isLoggedIn' )\n               , data     = $cookies.get( 'loginData' );\n\n            if( isLoggedIn && data ) {\n\n               data = JSON.parse( data );\n\n               $rest.IsValidToken( data.token ).then( ( valid ) => {\n\n                   if( !valid.valid ) {\n\n                       $state.go( 'home' );\n\n                   }\n\n               } ).catch( ( err ) => {\n\n                   $state.go( 'home' );\n\n               } );\n\n            }\n\n            const conferenceGuid = $stateParams.guid;\n            this.guid = conferenceGuid;\n\n            $rest.GetConference( {\n\n               conferenceGuid,\n               token: data.token,\n               guid: data.guid,\n\n            } ).then( ( data ) => {\n\n               this.conferenceData = data;\n\n               if( this.conferenceData.travelArrangements ) {\n\n                   if( this.conferenceData.travelArrangements.onward ) {\n\n                       if( this.conferenceData.travelArrangements.onward.arrivalDate ) {\n                           this.conferenceData.travelArrangements.onward.arrivalDate = new Date( this.conferenceData.travelArrangements.onward.arrivalDate );\n                       }\n\n                       if( this.conferenceData.travelArrangements.onward.departureDate ) {\n                           this.conferenceData.travelArrangements.onward.departureDate = new Date( this.conferenceData.travelArrangements.onward.departureDate );\n                       }\n\n                   }\n\n                   if( this.conferenceData.travelArrangements.returnJourney ) {\n\n                       if( this.conferenceData.travelArrangements.returnJourney.arrivalDate ) {\n                           this.conferenceData.travelArrangements.returnJourney.arrivalDate = new Date( this.conferenceData.travelArrangements.returnJourney.arrivalDate );\n                       }\n\n                       if( this.conferenceData.travelArrangements.returnJourney.departureDate ) {\n                           this.conferenceData.travelArrangements.returnJourney.departureDate = new Date( this.conferenceData.travelArrangements.returnJourney.departureDate );\n                       }\n\n                   }\n\n               }\n\n            } );\n\n\n            this.UpdateForm = () => {\n\n               this.processing = true;\n\n               $rest.UpdateConference( {\n\n                   token: data.token,\n                   guid: data.guid,\n                   conferenceGuid: this.guid,\n                   data: this.conferenceData\n\n               } ).then( ( dataIn ) => {\n\n                   if( dataIn.data.statusCode === 200 ) {\n\n                       this.processing = false;\n\n                       this.isMessage = true;\n                       this.messageHeader = \"Successful!\";\n                       this.messageText = \"All the details were successfully updated!\";\n                       this.messageClass = {\n\n                           'blue': true,\n\n                       };\n\n                   }\n\n               } );\n\n            };\n\n       } ] );\n"]}