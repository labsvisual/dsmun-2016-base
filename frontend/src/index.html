<!DOCTYPE html>
<html>
    <head>

        <meta charset="utf-8" />
        <title>DSMUN Base - Conference Management</title>

        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="Shreyansh Pandey" />

        <!-- Frameworks -->
        <link rel="stylesheet" href="lib/semantic/dist/semantic.css" media="screen" charset="utf-8">

        <!-- <script src="lib/jquery/dist/jquery.js" charset="utf-8"></script>
        <script src="lib/semantic/dist/semantic.js" charset="utf-8"></script>
        <script src="lib/angular/angular.js" charset="utf-8"></script>
        <script src="lib/angular-cookies/angular-cookies.js" charset="utf-8"></script>
        <script src="lib/angular-ui-router/release/angular-ui-router.js" charset="utf-8"></script>
        <script src="lib/ng-lodash/build/ng-lodash.js" charset="utf-8"></script>
        <script src="lib/stacktrace-js/dist/stacktrace.concat.js" charset="utf-8"></script> -->

        <link rel="stylesheet" href="css/style.css" />

    </head>
    <body ng-app="app" ng-controller="BasePageController as ctrl">

        <div class="ui left vertical sidebar labeled icon menu">

            <a ui-sref="home" class="item">
                <i class="home icon"></i>
                Home
            </a>

            <a ng-show="ctrl.showLogout" ng-click="ctrl.Logout()" class="item">
                <i class="sign out icon"></i>
                Logout
            </a>

        </div>

        <div class="pusher">

            <h1 id="header" class="ui header">
                DSMUN Base
                <div class="sub header">
                    conference management system
                </div>
            </h1>

            <div ui-view class="ui container"></div>

        </div>

        <script type='text/javascript' src="lib/sha512.js"></script>

        <!-- <script type="text/javascript" src="app/app.modules.js"></script>
        <script type="text/javascript" src="app/app.routes.js"></script>

        <script type="text/javascript" src="app/controllers/BasePageController.js"></script>
        <script type="text/javascript" src="app/controllers/DashboardController.js"></script>
        <script type="text/javascript" src="app/controllers/EditConferenceController.js"></script>
        <script type="text/javascript" src="app/controllers/ForgotPasswordController.js"></script>
        <script type="text/javascript" src="app/controllers/HomePageController.js"></script>
        <script type="text/javascript" src="app/controllers/NewConferenceController.js"></script>

        <script type="text/javascript" src="app/controllers/forms/DelegateInformationFormController.js"></script>
        <script type="text/javascript" src="app/controllers/forms/GaCrisisFormController.js"></script>
        <script type="text/javascript" src="app/controllers/forms/MedicalHistoryFormController.js"></script>
        <script type="text/javascript" src="app/controllers/forms/RegistrationFormController.js"></script>
        <script type="text/javascript" src="app/controllers/forms/TravelArrangementFormController.js"></script>

        <script type="text/javascript" src="app/services/CryptoService.js"></script>
        <script type="text/javascript" src="app/services/RestApi.js"></script> -->

        <script src="app/dist/vendor.js" charset="utf-8"></script>
        <script src="js/main.js" charset="utf-8"></script>
        <script src="app/dist/app.min.js" charset="utf-8"></script>
        <script type="text/javascript">

        angular
            .module( 'app' )
            .factory( 'TraceService', function() {

                return( {

                    print: function() {}

                } );

            } );

        angular
            .module( 'app' )
            .provider( '$exceptionHandler', {

                $get: function( ExceptionLoggingService ) {

                    return ( ExceptionLoggingService );

                }

            } );

        angular
            .module( 'app' )
            .factory( 'ExceptionLoggingService', [ '$log', '$window', 'TraceService', function( $log, $window, traceService ) {

                function error( exception, cause ) {

                    $log.error.apply( $log, arguments );

                    try {

                        const errorMessage = exception.toString()
                            , stackTrace   = traceService.print( {
                                e: exception,
                            } );

                        $.ajax( {

                            type: 'POST',
                            url : 'http://localhost:3345/log',
                            contentType: 'application/json',
                            data: angular.toJson( {

                                url: $window.location.href,
                                message: errorMessage,
                                type: 'EXCEPTION',
                                stackTrace,
                                cause: ( cause || '' )

                            } )

                        } );

                    } catch ( loggingError ) {

                        $log.warn( 'Error in sending log message to logging pipe line.' );
                        $log.log( loggingError );

                    }

                }

                return ( error );

            } ] );

        </script>

    </body>
</html>
