<!DOCTYPE html>
<html>
    <head>

        <meta charset="utf-8" />
        <title>Reset Password - {{ username }}</title>

        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="Shreyansh Pandey" />

        <!-- CDN Stuff -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css">

        <style>

        .container {
            margin-top: 3.5em;
        }

        .container > h1 {
            text-align: center;
        }

        .container > h4 {
            text-align: center;
        }

        .error {

            border: 1px solid red;

        }

        </style>

    </head>
    <body>

        <div class="container">

            <h1>Forgot Password</h1>
            <h4>You can change the password for the account <span style="font-weight: 800;">{{ username }}</span> here.</h4>

            <hr>

            <p id="error"></p>

            <form action="/forgot/{{ resetToken }}" method="post" onsubmit="return validateForm();">

                <label for="password" style="text-align: left;">New Password</label>
                <input class="u-full-width" type="password" placeholder="Enter your new password here" name="password" id="password">

                <label for="confirmPassword" style="text-align: left;">Confirm New Password</label>
                <input class="u-full-width" type="password" placeholder="Enter your new password here again to confirm" id="confirmPassword">

                <input value="{{ username }}" name="username" type="hidden">

                <input class="button-primary" type="submit" value="Submit">

            </form>

        </div>

        <script>

            var errorHan = document.getElementById( 'error' );

            function clearError() {

                errorHan.innerText = "";

            }

            function validateForm() {

                clearError();

                var password = document.getElementById( 'password' ).value;
                var confPass = document.getElementById( 'confirmPassword' ).value;

                if( password !== confPass ) {

                    errorHan.innerText = "The entered passwords don't match.";
                    return false;

                }

                return true;

            }

        </script>

    </body>
</html>
